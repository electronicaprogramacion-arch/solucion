@model CalibrationSaaS.Reports.Infraestructure.APIRep.ViewModels.QuoteReportViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Service Quotation - @Model.QuoteNumber</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            margin: 0;
            padding: 20px;
            color: #000;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .logo img {
            max-width: 200px;
            height: auto;
        }

        .company-info {
            font-size: 11px;
            line-height: 1.4;
        }
        
        .title {
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .quote-info {
            margin-bottom: 20px;
        }
        
        .customer-section {
            margin-bottom: 30px;
        }
        
        .customer-info {
            margin-left: 20px;
        }
        
        .quote-details {
            margin-bottom: 20px;
        }
        
        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .items-table th,
        .items-table td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
        }
        
        .items-table th {
            background-color: #f0f0f0;
            font-weight: bold;
            text-align: center;
        }
        
        .qty-col { width: 10%; text-align: center; }
        .description-col { width: 60%; }
        .cost-col { width: 15%; text-align: right; }
        .total-col { width: 15%; text-align: right; }
        
        .total-row {
            font-weight: bold;
            background-color: #f9f9f9;
        }
        
        .note-section {
            margin-top: 30px;
            font-weight: bold;
            color: #d00;
        }
        
        .footer-notes {
            margin-top: 20px;
            font-size: 11px;
            line-height: 1.5;
        }
        
        .signature-section {
            margin-top: 40px;
            font-size: 11px;
        }
        
        .page-break {
            page-break-after: always;
        }
        
        @@media print {
            body { margin: 0; }
            .page-break { page-break-after: always; }
        }
    </style>
</head>
<body>
    <!-- Logo -->
    <div class="logo">
        <img src="@Model.BaseUrl/images/ThermoTemp-Logo.png" alt="ThermoTemp Logo" />
    </div>

    <!-- Header -->
    <div class="header">
        <div class="company-info">
            @Model.Company.Address<br/>
            Phone: @Model.Company.Phone â€¢ Fax: @Model.Company.Fax<br/>
            @Model.Company.Website
        </div>
        
        <div class="title">SERVICE QUOTATION</div>
    </div>
    
    <!-- Quote Information -->
    <div class="quote-info">
        @Model.QuoteDate.ToString("MM/dd/yyyy")
    </div>
    
    <!-- Customer Information -->
    <div class="customer-section">
        <strong>@Model.Customer.ContactPerson</strong><br/>
        @Model.Customer.Name<br/>
        @if (!string.IsNullOrEmpty(Model.Customer.Address))
        {
            @Model.Customer.Address<br/>
        }
        @if (!string.IsNullOrEmpty(Model.Customer.City) || !string.IsNullOrEmpty(Model.Customer.State) || !string.IsNullOrEmpty(Model.Customer.ZipCode))
        {
            <text>@Model.Customer.City, @Model.Customer.State @Model.Customer.ZipCode</text>
        }
    </div>
    
    <!-- Quote Details -->
    <div class="quote-details">
        <strong>Quotation# :</strong> @Model.QuoteNumber<br/>
        <strong>Subject :</strong> @Model.Subject
    </div>
    
    <!-- Greeting -->
    <div style="margin-bottom: 20px;">
        @Model.Customer.ContactPerson ,<br/>
        We are pleased to present this proposal for performing service/calibration on the below item(s):
    </div>

    <!-- Items Table -->
    <table class="items-table">
        <thead>
            <tr>
                <th class="qty-col">Qty</th>
                <th class="description-col">Item Description</th>
                <th class="cost-col">Cost</th>
                <th class="total-col">Total</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Items)
            {
                <tr>
                    <td class="qty-col">@item.Quantity</td>
                    <td class="description-col">@item.Description</td>
                    <td class="cost-col">@item.FormattedUnitPrice</td>
                    <td class="total-col">@item.FormattedTotalPrice</td>
                </tr>
            }
            <tr class="total-row">
                <td colspan="3" style="text-align: right; padding-right: 20px;">
                    <strong>TOTAL (plus tax if applicable)</strong>
                </td>
                <td class="total-col">
                    <strong>@Model.TotalAmount.ToString("C")</strong>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Note Section -->
    <div class="note-section">
        *NOTE: PLEASE REFERENCE THE ABOVE QUOTE NUMBER ON YOUR P.O.
    </div>

    <!-- Footer Notes -->
    <div class="footer-notes">
        Note that this is not a final cost. This estimate is strictly for labor, and does not include any parts, freight, repair, or
        any additional calibrations that may be necessary during this service. Final billing may be more or less based on
        delays that we may incur due to production or maintenance issues within your company. Please contact me after
        you have reviewed this estimate with any questions you may have. If we have not already received a P.O., as soon
        as we receive a purchase order, service/calibration will be scheduled promptly.
    </div>

    <!-- Signature Section -->
    <div class="signature-section">
        Thank you!<br/>
        Customer Service Team<br/>
        @Model.ContactEmail
    </div>
</body>
</html>
