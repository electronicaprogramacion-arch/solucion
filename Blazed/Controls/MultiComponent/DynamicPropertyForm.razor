@using Meziantou.AspNetCore.Components
@using System.ComponentModel.DataAnnotations
@using Bogus;
<h1>Demo!</h1>
@*Model="NewPerson"*@
<EditForm Model="NewPerson" OnSubmit="() => { }">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <GenericForm  @bind-Model="NewPerson" EditorClass="form-control" EnableFieldValidation="true" >
        <FieldTemplate Context="field">
            <div class="form-group">
                <label for="@field.EditorId">@field.DisplayName</label>
                @field.EditorTemplate
                @field.FieldValidationTemplate
            </div>
        </FieldTemplate>
    </GenericForm>

    <button type="submit" class="btn btn-primary">Submit</button>

    <button type="button" @onclick="() => StateHasChanged()">Refresh</button>

</EditForm>

@NewPerson

@code {


    [Parameter]
    public DynamicProperty NewPerson { get; set; }
      

    //Person2 NewPerson { get; set; } = new Person2();

    public record Person2
    {


        public CalibrationSaaS.Domain.Aggregates.Entities.CalibrationSubType  MyProperty { get; set; }
    
    
    }


    public record Person 
    {

        [System.ComponentModel.DataAnnotations.MinLength(3)]
        [System.ComponentModel.DataAnnotations.Display(Name = "String Value with custom name")]
        public string Name { get; set; } = "Gérald Barré";

        public string Nickname { get; set; } = "meziantou";

        // It supports DataAnnotations (DataType, Display, DisplayName, Editable, Editor, etc.)
        [DataType(DataType.Url)]
        public string Website { get; set; } = "https://www.meziantou.net";

        [DataType(DataType.Date)]
        public DateTime DateOfBirth { get; set; }

        public int Children { get; set; }

        [System.ComponentModel.DisplayName("Custom name")]
        public string StringValueWithCustomName { get; set; } = "Gérald Barré";

        [System.ComponentModel.DataAnnotations.DataType(System.ComponentModel.DataAnnotations.DataType.Date)]
        public DateTime? DateValueNullable { get; set; }

        [System.ComponentModel.DataAnnotations.DataType(System.ComponentModel.DataAnnotations.DataType.Date)]
        public DateTime DateValue { get; set; } = DateTime.UtcNow;
        public DateTime DateTimeValue { get; set; } = DateTime.UtcNow;
        [System.ComponentModel.DataAnnotations.DataType(System.ComponentModel.DataAnnotations.DataType.Date)]
        public DateTimeOffset DateOffsetValue { get; set; } = DateTimeOffset.UtcNow;
        public DateTimeOffset DateTimeOffsetValue { get; set; } = DateTimeOffset.UtcNow;

        [System.ComponentModel.DataAnnotations.Editable(false)]
        public byte ByteValue { get; set; }

        [System.ComponentModel.DataAnnotations.Display(Name = "Byte Value")]
        public int ByteValueBindable { get => ByteValue; set => ByteValue = (byte)value; }

        [System.ComponentModel.Editor(typeof(GenericFormDemoCustomEditor), typeof(Microsoft.AspNetCore.Components.Forms.InputBase<>))]
        public string Choice { get; set; }

        [System.ComponentModel.DataAnnotations.DataType(System.ComponentModel.DataAnnotations.DataType.PhoneNumber)]
        public string PhoneNumber { get; set; }

        [System.ComponentModel.DataAnnotations.DataType(System.ComponentModel.DataAnnotations.DataType.Url)]
        public string Url { get; set; }

        public Uri Uri { get; set; }

        [System.ComponentModel.DataAnnotations.Required()]
        [System.ComponentModel.DataAnnotations.Display(Name = "la concha")]
        [System.ComponentModel.DataAnnotations.Editable(true)]
        public Guid ReadOnlyGuid { get; set; } = Guid.NewGuid();

        public Guid Guid { get; set; } = Guid.NewGuid();

        public Guid? NullableGuid { get; set; }
    }
}
