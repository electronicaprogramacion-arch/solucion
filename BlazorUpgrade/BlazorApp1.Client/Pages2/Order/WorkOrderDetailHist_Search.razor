@page "/Timeline"
@using Blazed.Controls
@namespace BlazorApp1.Blazor.Blazor.Pages.Order
@inherits WorkOrderDetailHist_SearchBase


@using BlazorTimeline
<style>
    #timeline .timeline-item:after, #timeline .timeline-item:before {
    content: "";
    display: block;
    width: 100%;
    clear: both;
}

*, *:before, *:after {
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
}

a {
    text-decoration: none;
}

#timeline .timeline-item {
    margin-bottom: 50px;
    position: relative;
}
#timeline .timeline-item .timeline-icon {
    width: 50px;
    height: 50px;
    position: absolute;
    top: 0;
    left: 50%;
    overflow: hidden;
    margin-left: -23px;
    -webkit-border-radius: 50%;
    -moz-border-radius: 50%;
    -ms-border-radius: 50%;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
}
#timeline .timeline-item .timeline-content {
    width: 45%;
    padding: 20px;
    -webkit-box-shadow: 3px 6px 6px rgba(0, 0, 0, 0.57);;
    -moz-box-shadow: 3px 6px 6px rgba(0, 0, 0, 0.57);
    -ms-box-shadow: 3px 6px 6px rgba(0, 0, 0, 0.57);
    box-shadow: 3px 6px 6px rgba(0, 0, 0, 0.57);
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    -ms-border-radius: 5px;
    border-radius: 5px;
    -webkit-transition: all 0.3s ease;
    -moz-transition: all 0.3s ease;
    -ms-transition: all 0.3s ease;
    transition: all 0.3s ease;
}

p {
    margin-top: 0.5rem;
}

#timeline .timeline-item .timeline-content .item-title {
    padding: 15px;
    margin: -20px -20px 0 -20px;
    font-weight: 300;
    -webkit-border-radius: 3px 3px 0 0;
    -moz-border-radius: 3px 3px 0 0;
    -ms-border-radius: 3px 3px 0 0;
    border-radius: 3px 3px 0 0;
}

#timeline .timeline-item .timeline-content.right {
    float: right;
}

#timeline .timeline-item .timeline-content:before {
    content: '';
    position: absolute;
    left: 45%;
    top: 20px;
    width: 0;
    height: 0;
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    border-left: 7px solid var(--title-bg);
}

#timeline .timeline-item .timeline-content.right:before {
    content: '';
    right: 45%;
    left: inherit;
    border-left: 0;
    border-right: 7px solid var(--title-bg);
}

.timeline-icon {
    background: var(--title-bg);
}

.timeline-content{
    background: var(--text-bg);
    color: var(--text-color)
}

.item-title {
    background: var(--title-bg);
    color: var(--title-color)
}

.timeline-button {
    padding: 5px 15px;
    text-decoration: none;
    background: transparent;
    border: 2px solid var(--title-bg);
    color: var(--title-bg);
    display: inline-block;
    position: relative;
    text-transform: uppercase;
    font-size: 12px;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    -ms-border-radius: 5px;
    border-radius: 5px;
    -webkit-transition: background 0.3s ease;
    -moz-transition: background 0.3s ease;
    -ms-transition: background 0.3s ease;
    transition: background 0.3s ease;
    -webkit-box-shadow: 2px 2px 0 var(--title-bg);
    -moz-box-shadow: 2px 2px 0 var(--title-bg);
    -ms-box-shadow: 2px 2px 0 var(--title-bg);
    box-shadow: 2px 2px 0 var(--title-bg);
}

@@media screen and (max-width: 768px) {
    #timeline .timeline-item .timeline-content {
        width: 90%;
        float: right;
    }
    #timeline .timeline-item .timeline-content:before, #timeline .timeline-item .timeline-content.right:before {
        border-right: 7px solid var(--title-bg);
    }
    #timeline .timeline-item .timeline-icon {
        left: 0;
    }
    #timeline .timeline-item .timeline-content {
        width: 90%;
        float: right;
    }
    #timeline .timeline-item .timeline-content:before, #timeline .timeline-item .timeline-content.right:before {
        left: 10%;
        margin-left: -6px;
        border-left: 0;
    }
    #timeline .timeline-item .timeline-icon {
        left: 0;
    }
}
*, *:before, *:after {
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
}

.container {
    max-width: 1100px;
    margin: 0 auto;
}

.project-name {
    text-align: center;
    padding: 10px 0;
}

#timeline {
    width: 100%;
    margin: 30px auto;
    position: relative;
    padding: 0 10px;
    -webkit-transition: all 0.4s ease;
    -moz-transition: all 0.4s ease;
    -ms-transition: all 0.4s ease;
    transition: all 0.4s ease;
}


.timeline-item .timeline-content:before {
    content: '';
    position: absolute;
    left: 45%;
    top: 20px;
    width: 0;
    height: 0;
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    border-left: 7px solid greenyellow;
}

#timeline:before {
    content: "";
    width: 3px;
    height: 100%;
    background: var(--title-bg);
    left: 50%;
    top: 0;
    position: absolute;
}

#timeline:after {
    content: "";
    clear: both;
    display: table;
    width: 100%;
}

@@media screen and (max-width: 768px) {
    #timeline {
        margin: 30px;
        padding: 0px;
        width: 90%;
    }
    #timeline:before {
        left: 0;
    }

    #timeline .timeline-item .timeline-content:before, #timeline .timeline-item .timeline-content.right:before {
        left: 10%;
        margin-left: -6px;
        border-left: 0;
    }
    #timeline .timeline-item .timeline-icon {
        left: 0;
    }
}
</style>
<Timeline Title="@wd"
          TitleBgColor="#554DE0"
          TitleColor="#FFFFFF"
          TextColor="#F3F3F3"
          TextBgColor="#212121"
          ItemPositionOption="@ItemPositionOption.Manual">
    @if (LIST1 != null)
    {
        @foreach (var item in LIST1)
        {
            ItemPosition ss;
            if ((cont % 2) == 0)
            {
                ss = ItemPosition.Left;
            }
            else
            {
                ss = ItemPosition.Right;
            }
    <TimelineItem Title="@item.Date.ToShortDateString()" Position="ss">
        <div>Action: @item?.Action</div>
        <div>Technician: @item?.Name</div>       
        <div>User:  @item?.UserName</div>
        <div>Date:  @item?.Date.ToLongDateString()</div>
        <div> @item?.Description</div>
    </TimelineItem>

            cont++;
        }
    }



    @*<TimelineItem Title="Left" Position="ItemPosition.Left">
            Hi! I'm left!
        </TimelineItem>

        <TimelineItem Title="Right" Position="ItemPosition.Right">
            Hello! I'm right!
        </TimelineItem>
        <TimelineItem Title="Right" Position="ItemPosition.Right">
            Hello! I'm right!
        </TimelineItem>
        <TimelineItem Title="Left" Position="ItemPosition.Left">
            Hi! I'm left!
        </TimelineItem>
        <TimelineItem Title="Left" Position="ItemPosition.Left">
            Hi! I'm left!
        </TimelineItem>

        <TimelineItem Title="Hey I am a custom icon">
            <IconContent>
                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                 <g id="Layer_1">
                  <title>Layer 1</title>
                  <ellipse filter="url(#svg_4_blur)" transform="rotate(-6 11.9687 12.2016)" ry="11.17721" rx="11.61553" id="svg_4" cy="12.20163" cx="11.96869" stroke="#000" fill="none"/>
                  <ellipse stroke-width="2" ry="0.06262" id="svg_5" cy="3.21603" cx="36.35817" stroke="#000" fill="none"/>
                 </g>
                 <defs>
                  <filter height="200%" width="200%" y="-50%" x="-50%" id="svg_4_blur">
                   <feGaussianBlur stdDeviation="0.5" in="SourceGraphic"/>
                  </filter>
                 </defs>
                </svg>
            </IconContent>
        </TimelineItem>*@
</Timeline>


    @*<ResponsiveTable ItemsDataSource="@LIST1"
                     PageSize="50"
                     HasAction="false"
                     Context="Entity"
                     @ref="@Grid"
                     GridID="gridWorkOrderDetailHist"
                     RowEditClass=""
                     RowNewClass=""
                     InLineEdit=false
                     TableItem="WorkDetailHistory"
                     EnabledSearch="false"
                     editContext="@CurrentEditContext"
                     OnChangeWindow="ClearList"
                     HasEdit="false"
                     HasDelete="false"
                     HasNew="false"
                     Component="@Component"
                     PaginationFunction1="LoadData"
                     ClientPagination="true">


        <ChildContent>

            <GridColumns>

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.WorkOrderDetailID)" Title="ID" DefaultSort="true" CSScol="col-sm-1 customcol" />

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.Action)" />

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.Date)" Title="Date"  DefaultSort="true"/>

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.Description)" />

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.Name)" Title="Technician" />

                <GridColumn TableItem="WorkDetailHistory" Field="@Grid.GetPropertyName(() => eq.UserName)" Title="User" />



            </GridColumns>
        </ChildContent>

        <GridHeader>
                <div class="col-sm customcol"></div>
                <div class="col-sm customcol">CalibrationDate</div>
                <div class="col-sm customcol">WorkOrder</div>
                <div class="col-sm customcol">WorkOrderDetail</div>
                <div class="col-sm customcol">TechnicianComments</div>
                <div class="col-sm customcol">Status</div>
                <div class="col-sm customcol">Select</div>

            </GridHeader>

        <GridRow>
            <div class="col-sm customcol">@Entity.CalibrationDate</div>
                <div class="col-sm customcol">@Entity.WorkOrderID</div>
                <div class="col-sm customcol">@Entity.WorkOrderDetailID</div>
                <div class="col-sm customcol">@Entity.TechnicianComment</div>
                <div class="col-sm customcol">@Entity.CurrentStatus.Name</div>
                <td>
                    <a class="btn btn-sm btn-primary shadow-sm btn-sm editButton col-sm"
                       type="button" data-dismiss="modal" href="WorkOrderItem/@Entity?.WorkOrderDetailID.ToString()">
                        <span aria-hidden="true">Detail</span>
                    </a>

                </td>
        </GridRow>
    </ResponsiveTable>*@


@*</EditForm>*@

@code
{

    int cont=0;


}






